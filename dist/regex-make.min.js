var Regex=(()=>{var N=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var $=Object.prototype.hasOwnProperty;var I=(e,n)=>{for(var t in n)N(e,t,{get:n[t],enumerable:!0})},g=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of D(n))!$.call(e,o)&&o!==t&&N(e,o,{get:()=>n[o],enumerable:!(r=C(n,o))||r.enumerable});return e};var y=e=>g(N({},"__esModule",{value:!0}),e);var H={};I(H,{default:()=>G,make:()=>h,partial:()=>P});var i={DEFAULT:"R_DEFAULT",CHAR_CLASS:"R_CHAR_CLASS",GROUP_NAME:"R_GROUP_NAME",INTERVAL_QUANTIFIER:"R_INTERVAL_QUANTIFIER",ENCLOSED_TOKEN:"R_ENCLOSED_TOKEN",OPEN_ESCAPE:"R_OPEN_ESCAPE"},f={DEFAULT:"CC_DEFAULT",ENCLOSED_TOKEN:"CC_ENCLOSED_TOKEN",OPEN_ESCAPE:"CC_OPEN_ESCAPE"},p=(()=>{let e=!0;try{new RegExp("(?i-ms:)")}catch{e=!1}return e})(),L="&!#$%*+,.:;<=>?@^`~";function T(e,n){return n===i.CHAR_CLASS?e.replace(new RegExp(String.raw`[()\[\]{}|\\/\-${L}]`,"g"),"\\$&"):e.replace(/[()\[\]{}|\\^$*+?.]/g,"\\$&")}function m(e){return e.replace(new RegExp(`^[${L}]`),(n,t)=>`\\${n}${t+1===e.length?"":n}`)}function R(e,n){return A(e,String.raw`\\0(?!\d)`,"\\u{0}",n)}function U(e,n,t){let r=e.replace(/\\./gsu,"");if(r.at(-1)==="\\")return"\\";if(n===i.DEFAULT&&r.includes(")"))return")";if(n===i.CHAR_CLASS&&t===f.DEFAULT){let o=0;for(let[u]of r.matchAll(/[\[\]]/g))if(o+=u==="["?1:-1,o<0)return"]"}return(n===i.ENCLOSED_TOKEN||n===i.INTERVAL_QUANTIFIER||t===f.ENCLOSED_TOKEN)&&r.includes("}")?"}":n===i.GROUP_NAME&&r.includes(">")?">":""}function w(e,{regexContext:n=i.DEFAULT,charClassContext:t=f.DEFAULT,charClassDepth:r=0,lastPos:o=0}){let u=/(?<groupN>\(\?<(?![=!])|\\k<)|(?<intervalQ>\{)|(?<enclosedT>\\[pPu]\{)|(?<ccOnlyEnclosedT>\\q\{)|\\.|(?<openE>\\)|./gsu;u.lastIndex=o;let E;for(;E=u.exec(e);){let{0:s,groups:{groupN:l,intervalQ:S,enclosedT:d,ccOnlyEnclosedT:a,openE:_}}=E;s==="["?(r++,n=i.CHAR_CLASS,t=f.DEFAULT):s==="]"&&n===i.CHAR_CLASS?(r&&r--,r||(n=i.DEFAULT),t=f.DEFAULT):n!==i.CHAR_CLASS?l?n=i.GROUP_NAME:S?n=i.INTERVAL_QUANTIFIER:d?n=i.ENCLOSED_TOKEN:_?n=i.OPEN_ESCAPE:(s===">"&&n===i.GROUP_NAME||s==="}"&&(n===i.INTERVAL_QUANTIFIER||n===i.ENCLOSED_TOKEN))&&(n=i.DEFAULT):n===i.CHAR_CLASS&&(d||a?t=f.ENCLOSED_TOKEN:_?t=f.OPEN_ESCAPE:s==="}"&&t===f.ENCLOSED_TOKEN&&(t=f.DEFAULT))}return{regexContext:n,charClassContext:t,charClassDepth:r,lastPos:e.length-1}}function A(e,n,t,r){let o=new RegExp(String.raw`(?!${n})\\.|(?<found>${n})|.`,"gsu"),u=0,E="";for(let{0:s,groups:{found:l}}of e.matchAll(o)){if(l&&(!r||r===i.DEFAULT==!u)){E+=t;continue}s==="["?u++:s==="]"&&u--,E+=s}return E}var b=["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Flag_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence","RGI_Emoji"].join("|");function O(e){let n=new RegExp(String.raw`
\\ (?:
  c [A-Za-z] |
  p \{ (?<pPropOfStr> ${b} ) \} |
  [pP] \{ [^\}]+ \} |
  (?<qPropOfStr> q ) |
  u (?: [A-Fa-f0-9]{4} | \{ [\dA-Fa-f]+ \} ) |
  x [A-Fa-f0-9]{2} |
  .
) |
-- |
&& |
.
  `.replace(/\s+/g,""),"gsu"),t=!1,r;for(let{0:o,groups:u}of e.matchAll(n)){if(u.pPropOfStr||u.qPropOfStr||o==="["&&t)return!0;if(["-","--","&&"].includes(o))t=!1;else if(!["[","]"].includes(o)){if(t||r==="]")return!0;t=!0}r=o}return!1}function h(e,...n){let t=this instanceof Function?this:RegExp;if(Array.isArray(e?.raw))return F(t,"",e,...n);if((typeof e=="string"||e===void 0)&&!n.length)return F.bind(null,t,e??"");throw new Error(`Unexpected arguments: ${JSON.stringify([e,...n])}`)}function F(e,n,t,...r){if(/[vu]/.test(n))throw new Error("Flags v/u cannot be explicitly added since v is always enabled");let o=!1,u={},E="";return t.raw.forEach((s,l)=>{s!==""&&(o=!0),E+=R(s,i.CHAR_CLASS),u=w(E,u);let{regexContext:S,charClassContext:d}=u;if(l<t.raw.length-1){let a=r[l];(a instanceof RegExp||a instanceof c)&&(o=!0);let _=j(a,n,S,d,o);E+=_}}),new e(E,`v${n}`)}function j(e,n,t,r,o){if(e instanceof RegExp&&t!==i.DEFAULT)throw new Error("Cannot interpolate a RegExp at this position because the syntax context does not match");if(t===i.OPEN_ESCAPE||r===f.OPEN_ESCAPE)throw new Error('Unescaped "\\" precedes interpolation and would have side effects inside it');let u=e instanceof c,E;if(!(e instanceof RegExp)){e=String(e),u||(E=T(e,t));let s=U(E||e,t,r);if(s)throw new Error(`Unescaped stray "${s}" in the interpolated value would have side effects outside it`)}if(t===i.GROUP_NAME||t===i.INTERVAL_QUANTIFIER||t===i.ENCLOSED_TOKEN||t===i.CHAR_CLASS&&r===f.ENCLOSED_TOKEN)return u?e:E;if(t===i.CHAR_CLASS){if(u){let s=m(e);return O(e)?`[${s}]`:R(s)}return O(E)?`[${E}]`:E}if(e instanceof RegExp){let s=K(e,n);return s.usedModifier?s.value:`(?:${s.value})`}return u?`(?:${e})`:o?`(?:${E})`:E}function K(e,n){let t={i:null,m:null,s:null},r="\\n\\r\\u2028\\u2029",o=e.source;if(e.ignoreCase!==n.includes("i"))if(p)t.i=e.ignoreCase;else throw new Error("Pattern modifiers not supported, so the value of flag i on the interpolated RegExp must match the outer regex");if(e.dotAll!==n.includes("s")&&(p?t.s=e.dotAll:o=A(o,"\\.",e.dotAll?"[^]":`[[^]--[${r}]]`,i.DEFAULT)),e.multiline!==n.includes("m")&&(p?t.m=e.multiline:(o=A(o,"\\^",e.multiline?`(?<=^|[${r}])`:"(?<![^])",i.DEFAULT),o=A(o,"\\$",e.multiline?`(?=$|[${r}])`:"(?![^])",i.DEFAULT))),p){let u=Object.keys(t),E=u.filter(l=>t[l]===!0).join(""),s=u.filter(l=>t[l]===!1).join("");if(s&&(E+=`-${s}`),E)return{value:`(?${E}:${o})`,usedModifier:!0}}return{value:o}}var c=class{#e;constructor(n){this.#e=n}toString(){return String(this.#e)}};function P(e,...n){if(Array.isArray(e?.raw))return new c(e.raw.flatMap((t,r)=>r<e.raw.length-1?[t,n[r]]:t).join(""));if(!n.length)return new c(e??"");throw new Error(`Unexpected arguments: ${JSON.stringify([e,...n])}`)}var M={make:h,partial:P};var G=M;return y(H);})();
//! Regex.make 0.1.0 alpha; Steven Levithan; MIT License
//# sourceMappingURL=regex-make.min.js.map
