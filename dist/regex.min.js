var Regex=(()=>{var h=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var X=Object.prototype.hasOwnProperty;var Y=(e,t)=>{for(var r in t)h(e,r,{get:t[r],enumerable:!0})},ee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J(t))!X.call(e,o)&&o!==r&&h(e,o,{get:()=>t[o],enumerable:!(n=B(t,o))||n.enumerable});return e};var te=e=>ee(h({},"__esModule",{value:!0}),e);var le={};Y(le,{default:()=>fe,make:()=>Z,partial:()=>O,regex:()=>b});var d={DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"};function m(e,t,r,n){let o=new RegExp(String.raw`(?<found>${t})|\\?.`,"gsu"),a=0,s="";for(let l of e.matchAll(o)){let{0:u,groups:{found:E}}=l;if(E&&(!n||n===d.DEFAULT==!a)){r instanceof Function?s+=r(l):s+=r;continue}u==="["?a++:u==="]"&&a&&a--,s+=u}return s}function re(e,t,r,n){if(!new RegExp(t,"su").test(e))return!1;let o=new RegExp(String.raw`(?<found>${t})|\\?.`,"gsu"),a=0;for(let s of e.matchAll(o)){let{0:l,groups:{found:u}}=s;if(u&&(!n||n===d.DEFAULT==!a))return r&&r(s),!0;l==="["?a++:l==="]"&&a&&a--}return!1}function K(e,t,r){return re(e,t,null,r)}function k(e){if(!K(e,String.raw`\(\?>`,d.DEFAULT))return e;let t=new RegExp(String.raw`(?<noncapturingStart>\(\?(?:[:=!>A-Za-z\-]|<[=!]))|(?<capturingStart>\((?:\?<[^>]+>)?)|(?<backrefNum>\\[1-9]\d*)|\\?.`,"gsu"),r=3,n,o=0,a=0,s=NaN;do{n=!1;let l=0,u=0,E=!1,p;for(t.lastIndex=Number.isNaN(s)?0:s+r;p=t.exec(e);){let{0:i,index:N,groups:{backrefNum:A,capturingStart:_,noncapturingStart:R}}=p;if(i==="[")l++;else if(l)i==="]"&&l--;else if(i==="(?>"&&!E)s=N,E=!0;else if(E&&R)u++;else if(_)E&&u++,o++;else if(i===")"&&E){if(!u){a++,e=`${e.slice(0,s)}(?:(?=(${e.slice(s+r,N)}))\\k<${a+o}>)${e.slice(N+1)}`,n=!0,o--;break}u--}else if(A)throw new Error(`Invalid decimal escape "${i}" in interpolated regex; cannot be used with atomic group`)}}while(n);return e=m(e,String.raw`\\k<(?<backrefNum>\d+)>`,({groups:{backrefNum:l}})=>`\\${l}`,d.DEFAULT),e}var T=class{#e;constructor(t){this.#e=t}toString(){return String(this.#e)}};function O(e,...t){if(Array.isArray(e?.raw))return new T(e.raw.flatMap((r,n)=>n<e.raw.length-1?[r,t[n]]:r).join(""));if(!t.length)return new T(e??"");throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)}var f={DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS",GROUP_NAME:"GROUP_NAME",ENCLOSED_TOKEN:"ENCLOSED_TOKEN",INTERVAL_QUANTIFIER:"INTERVAL_QUANTIFIER",INVALID_INCOMPLETE_TOKEN:"INVALID_INCOMPLETE_TOKEN"},c={DEFAULT:"CC_DEFAULT",RANGE:"CC_RANGE",ENCLOSED_TOKEN:"CC_ENCLOSED_TOKEN",Q_TOKEN:"CC_Q_TOKEN",INVALID_INCOMPLETE_TOKEN:"CC_INVALID_INCOMPLETE_TOKEN"},S=(()=>{let e=!0;try{new RegExp("(?i-ms:)")}catch{e=!1}return e})(),C="&!#$%*+,.:;<=>?@^`~";function U(e,t){return t===d.CHAR_CLASS?e.replace(new RegExp(String.raw`[()\[\]{}|\\/\-${C}]`,"g"),"\\$&"):e.replace(/[()\[\]{}|\\^$*+?.]/g,"\\$&")}function I(e){return e.replace(new RegExp(String.raw`^([${C}])(?!\1)`),(t,r,n)=>`\\${t}${n+1===e.length?"":t}`)}function V(e){return e.replace(/^\^/,"\\^^")}function w(e,t){return m(e,String.raw`\\0(?!\d)`,"\\u{0}",t)}function G(e,t,r){let n=0;for(let[o]of e.matchAll(new RegExp(`[${U(t+r,d.CHAR_CLASS)}]`,"g")))if(n+=o===t?1:-1,n<0)return r;return n>0?t:""}function M(e,t,r){let n=e.replace(/\\./gsu,"");if(n.at(-1)==="\\")return"\\";if(t===f.DEFAULT)return G(n,"(",")");if(t===f.CHAR_CLASS&&!(r===c.ENCLOSED_TOKEN||r===c.Q_TOKEN))return G(n,"[","]");if(t===f.ENCLOSED_TOKEN||t===f.INTERVAL_QUANTIFIER||r===c.ENCLOSED_TOKEN||r===c.Q_TOKEN){if(n.includes("}"))return"}"}else if(t===f.GROUP_NAME&&n.includes(">"))return">";return""}var L=new RegExp(String.raw`
  (?<groupN> \(\?< (?! [=!] ) | \\k< )
| (?<enclosedT> \\[pPu]\{ )
| (?<qT> \\q\{ )
| (?<intervalQ> \{ )
| (?<incompleteT> \\ (?:
    $
  | c (?! [A-Za-z] )
  | u (?! [A-Fa-f\d]{4} ) [A-Fa-f\d]{0,3}
  | x (?! [A-Fa-f\d]{2} ) [A-Fa-f\d]?
  )
)
| \\ (?:
    c [A-Za-z]
  | u [A-Fa-f\d]{4}
  | x [A-Fa-f\d]{2}
  | 0 \d+
)
| \[\^
| \(\? [:=!<>A-Za-z\-]
| (?<dp> [${C}] ) \k<dp>
| \\[1-9]\d*
| --
| \\? .
`.replace(/\s+/g,""),"gsu");function g(e,{regexContext:t=f.DEFAULT,charClassContext:r=c.DEFAULT,charClassDepth:n=0,lastPos:o=0}){L.lastIndex=o;let a;for(;a=L.exec(e);){let{0:s,groups:{groupN:l,enclosedT:u,qT:E,intervalQ:p,incompleteT:i}}=a;s==="["||s==="[^"?(n++,t=f.CHAR_CLASS,r=c.DEFAULT):s==="]"&&t===f.CHAR_CLASS?(n&&n--,n||(t=f.DEFAULT),r=c.DEFAULT):t===f.CHAR_CLASS?i?r=c.INVALID_INCOMPLETE_TOKEN:s==="-"?r=c.RANGE:u?r=c.ENCLOSED_TOKEN:E?r=c.Q_TOKEN:(s==="}"&&(r===c.ENCLOSED_TOKEN||r===c.Q_TOKEN)||r===c.INVALID_INCOMPLETE_TOKEN||r===c.RANGE)&&(r=c.DEFAULT):i?t=f.INVALID_INCOMPLETE_TOKEN:l?t=f.GROUP_NAME:u?t=f.ENCLOSED_TOKEN:p?t=f.INTERVAL_QUANTIFIER:(s===">"&&t===f.GROUP_NAME||s==="}"&&(t===f.ENCLOSED_TOKEN||t===f.INTERVAL_QUANTIFIER)||t===f.INVALID_INCOMPLETE_TOKEN)&&(t=f.DEFAULT)}return{regexContext:t,charClassContext:r,charClassDepth:n,lastPos:e.length}}function F(e){let t=/(?<capture>\((?:(?!\?)|\?<[^>]+>))|\\?./gsu;return Array.from(e.matchAll(t)).filter(r=>r.groups.capture).length}function y(e,t){return e.replace(/\\([1-9]\d*)|\\?./gsu,(r,n)=>n?"\\"+(Number(n)+t):r)}var ne=["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Flag_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence","RGI_Emoji"].join("|");function D(e){let t=new RegExp(String.raw`
\\ (?:
    c [A-Za-z]
  | p \{ (?<pPropOfStr> ${ne} ) \}
  | [pP] \{ [^\}]+ \}
  | (?<qPropOfStr> q )
  | u (?: [A-Fa-f\d]{4} | \{ [A-Fa-f\d]+ \} )
  | x [A-Fa-f\d]{2}
  | .
)
| --
| &&
| .
  `.replace(/\s+/g,""),"gsu"),r=!1,n;for(let{0:o,groups:a}of e.matchAll(t)){if(a.pPropOfStr||a.qPropOfStr||o==="["&&r)return!0;if(["-","--","&&"].includes(o))r=!1;else if(!["[","]"].includes(o)){if(r||n==="]")return!0;r=!0}n=o}return!1}function $(e,t,r){let n={raw:[]},o=[],a={};return e.raw.forEach((s,l)=>{let u=r(s,{...a,lastPos:0});if(n.raw.push(u.transformed),a=u.runningContext,l<e.raw.length-1){let E=t[l];if(E instanceof T){let p=r(E,{...a,lastPos:0});o.push(O(p.transformed)),a=p.runningContext}else o.push(E)}}),{template:n,values:o}}function j(e,t){e=String(e);let r="",n="";for(let[o]of e.matchAll(L)){r+=o,t=g(r,t);let{regexContext:a}=t;if(a===f.DEFAULT)if(o==="(")n+="(?:";else{if(/^\\[1-9]/.test(o))throw new Error(`Invalid decimal escape "${o}" with implicit flag n; replace with named backreference`);n+=o}else n+=o}return{transformed:n,runningContext:t}}var Q=/^\s$/,oe=/^\\[\s#]$/,H=/^[ \t]$/,se=/^\\[ \t]$/;function q(e,t){e=String(e);let r=!1,n=!1,o=!1,a="",s="",l="",u="",E=!1,p=(i,{prefix:N=!0,postfix:A=!1}={})=>(i=(E&&N?"(?:)":"")+i+(A?"(?:)":""),E=!1,i);for(let[i]of e.matchAll(L)){if(o){i===`
`&&(o=!1,E=!0);continue}if(r){if(Q.test(i))continue;r=!1,E=!0}else if(n){if(H.test(i))continue;n=!1}a+=i,t=g(a,t);let{regexContext:N,charClassContext:A}=t;if(i==="-"&&N===f.CHAR_CLASS&&u===c.RANGE)throw new Error("Invalid unescaped hyphen as the end value for a range");if(N===f.DEFAULT&&/^[?*+]\??$/.test(i)||N===f.INTERVAL_QUANTIFIER&&i==="{")s+=p(i,{prefix:!1,postfix:l==="("});else if(N===f.DEFAULT)Q.test(i)?r=!0:i.startsWith("#")?o=!0:oe.test(i)?s+=p(i[1],{prefix:!1}):s+=p(i);else if(N===f.CHAR_CLASS&&i!=="["&&i!=="[^")if(H.test(i)&&(A===c.DEFAULT||A===c.RANGE||A===c.Q_TOKEN))n=!0;else{if(A===c.INVALID_INCOMPLETE_TOKEN)throw new Error(`Invalid incomplete token in character class: "${i}"`);se.test(i)&&(A===c.DEFAULT||A===c.Q_TOKEN)?s+=p(i[1],{prefix:!1}):A===c.DEFAULT?s+=p(I(w(i))):s+=p(i)}else s+=p(i);r||n||o||(l=i,u=A)}return{transformed:s,runningContext:t}}function W(e){let t=String.raw`\(\?:\)`;return e=m(e,`${t}(?:${t})+`,"(?:)",d.DEFAULT),e=m(e,String.raw`^${t}(?![?*+{])|${t}$|${t}(?=[()|$\\])|(?<=[()|>^]|\(\?(?:[:=!]|<[=!]))${t}`,"",d.DEFAULT),e}var b=function(e,...t){let r=this instanceof Function?this:RegExp;if(Array.isArray(e?.raw))return P(r,{flags:""},e,...t);if((typeof e=="string"||e===void 0)&&!t.length)return P.bind(null,r,{flags:e});if({}.toString.call(e)==="[object Object]"&&!t.length)return P.bind(null,r,e);throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)};function P(e,t,r,...n){let{flags:o="",postprocessors:a=[],__flagN:s=!0,__flagX:l=!0,__rake:u=!0}=t;if(/[vu]/.test(o))throw new Error("Flags v/u cannot be explicitly added since v is always enabled");l&&({template:r,values:n}=$(r,n,q)),s&&({template:r,values:n}=$(r,n,j));let E=0,p="",i={};r.raw.forEach((A,_)=>{let R=r.raw[_]||r.raw[_+1];E+=F(A),p+=w(A,d.CHAR_CLASS),i=g(p,i);let{regexContext:v,charClassContext:z}=i;if(_<r.raw.length-1){let x=ie(n[_],o,v,z,R,E);E+=x.capturesAdded||0,p+=x.value}});let N=[k,...a];u&&N.push(W);for(let A of N)p=A(p);return new e(p,`v${o}`)}function ie(e,t,r,n,o,a){if(e instanceof RegExp&&r!==f.DEFAULT)throw new Error("Cannot interpolate a RegExp at this position because the syntax context does not match");if(r===f.INVALID_INCOMPLETE_TOKEN||n===c.INVALID_INCOMPLETE_TOKEN)throw new Error("Interpolation preceded by invalid incomplete token");let s=e instanceof T,l;if(!(e instanceof RegExp)){e=String(e),s||(l=U(e,r===f.CHAR_CLASS?d.CHAR_CLASS:d.DEFAULT));let u=M(l||e,r,n);if(u)throw new Error(`Unescaped stray "${u}" in the interpolated value would have side effects outside it`)}if(r===f.ENCLOSED_TOKEN||r===f.INTERVAL_QUANTIFIER||r===f.GROUP_NAME||n===c.ENCLOSED_TOKEN||n===c.Q_TOKEN)return{value:s?e:l};if(r===f.CHAR_CLASS){if(s){if(m(e,"^-|^&&|-$|&&$","")!==e)throw new Error("In character classes, a partial cannot use a range/set operator at its boundary; move the operation into the partial or the operator outside of it");let E=V(I(e));return{value:D(e)?`[${E}]`:w(E)}}return{value:D(l)?`[${l}]`:l}}if(e instanceof RegExp){let u=ae(e,t),E=y(u.value,a);return{value:u.usedModifier?E:`(?:${E})`,capturesAdded:F(e.source)}}return s?{value:`(?:${e})`}:{value:o?`(?:${l})`:l}}function ae(e,t){let r={i:null,m:null,s:null},n="\\n\\r\\u2028\\u2029",o=e.source;if(e.ignoreCase!==t.includes("i"))if(S)r.i=e.ignoreCase;else throw new Error("Pattern modifiers not supported, so the value of flag i on the interpolated RegExp must match the outer regex");if(e.dotAll!==t.includes("s")&&(S?r.s=e.dotAll:o=m(o,"\\.",e.dotAll?"[^]":`[^${n}]`,d.DEFAULT)),e.multiline!==t.includes("m")&&(S?r.m=e.multiline:(o=m(o,"\\^",e.multiline?`(?<=^|[${n}])`:"(?<![^])",d.DEFAULT),o=m(o,"\\$",e.multiline?`(?=$|[${n}])`:"(?![^])",d.DEFAULT))),S){let a=Object.keys(r),s=a.filter(u=>r[u]===!0).join(""),l=a.filter(u=>r[u]===!1).join("");if(l&&(s+=`-${l}`),s)return{value:`(?${s}:${o})`,usedModifier:!0}}return{value:o}}var Z=b;var fe={make:Z,partial:O,regex:b};return te(le);})();
//! regex 1.1.1; Steven Levithan; MIT License
//# sourceMappingURL=regex.min.js.map
